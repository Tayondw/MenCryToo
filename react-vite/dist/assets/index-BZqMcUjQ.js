import{j as e}from"./index-D_QOT4VP.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{d as t,u as a,b as r,L as l,F as o}from"./router-vendor-DFbjbkyO.js";import{a as n}from"./redux-vendor-s9F9CGgp.js";import{A as i,V as d,c,s as x,W as m,j as h,N as u,n as p,Y as g,m as j}from"./ui-vendor-CiRjMc1E.js";const b=()=>{const b=t(),v=n(e=>e.session.user),N=a(),f=r(),[y,w]=s.useState(""),[k,C]=s.useState(""),[z,G]=s.useState(""),[L,F]=s.useState(""),[P,S]=s.useState(""),[B,I]=s.useState(null),[M,E]=s.useState(null),W=150,Y=s.useMemo(()=>b?"errors"in b&&b.errors?b.errors:b:{},[b]),$="submitting"===f.state;s.useEffect(()=>{v||N("/login")},[v,N]),s.useEffect(()=>{Y.server},[Y.server]);const A=y.length>=3&&y.length<=50&&k.length>=20&&k.length<=W&&""!==z&&L.length>=3&&L.length<=30&&2===P.length&&null!==B;return v?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs(l,{to:"/groups",className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(i,{size:20}),"Back to Groups"]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[Y.server&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(d,{size:20}),e.jsx("span",{className:"font-medium",children:"Error creating group"})]}),e.jsx("p",{className:"text-red-700 mt-1",children:Y.server})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl",children:[e.jsx("img",{src:"https://mencrytoo.s3.amazonaws.com/groups-page.png",alt:"Create group",className:"w-full h-auto object-cover rounded-2xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/70 to-transparent flex items-end",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2 text-slate-200",children:"Start a New Group"}),e.jsx("p",{className:"text-slate-200",children:"Build a supportive community around shared experiences"})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(c,{size:18,className:"text-orange-500"}),"Group Preview"]}),M||y||k?e.jsxs("div",{className:"space-y-4",children:[M&&e.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:e.jsx("img",{src:M,alt:"Preview",className:"w-full h-48 object-cover"})}),y&&e.jsx("h4",{className:"font-semibold text-lg text-slate-800",children:y}),k&&e.jsx("p",{className:"text-slate-700 text-sm",children:k}),(L||P)&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[e.jsx(x,{size:16,className:"text-orange-500"}),e.jsxs("span",{children:[L,L&&P&&", ",P]})]}),z&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[e.jsx(m,{size:16,className:"text-orange-500"}),e.jsxs("span",{children:["in-person"===z?"In Person":"Online"," Group"]})]})]}):e.jsxs("div",{className:"text-center py-8 px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{size:24,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-500 mb-2",children:"Your group preview will appear here"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Fill out the form to see how your group will look"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center",children:e.jsx(c,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Create a Group"}),e.jsx("p",{className:"text-slate-600",children:"We'll walk you through a few steps to build your local community"})]})]}),e.jsxs(o,{method:"post",action:"/groups/new",encType:"multipart/form-data",className:"space-y-6",children:[e.jsx("input",{type:"hidden",name:"organizer_id",value:v.id}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(x,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Location"})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Groups meet locally, in person, and online. We'll connect you with people in your area."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-slate-700",children:"City"}),e.jsx("input",{id:"city",name:"city",type:"text",value:L,onChange:e=>F(e.target.value),placeholder:"Enter city name",className:`w-full px-4 py-3 border ${(null==Y?void 0:Y.city)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors`}),(null==Y?void 0:Y.city)&&e.jsx("p",{className:"text-red-600 text-sm",children:Y.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-slate-700",children:"State"}),e.jsx("input",{id:"state",name:"state",type:"text",value:P,onChange:e=>S(e.target.value.toUpperCase()),placeholder:"CA",maxLength:2,className:`w-full px-4 py-3 border ${(null==Y?void 0:Y.state)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors uppercase`}),(null==Y?void 0:Y.state)&&e.jsx("p",{className:"text-red-600 text-sm",children:Y.state}),e.jsx("p",{className:"text-xs text-slate-500",children:"Please use the two-letter state code (e.g., CA, NY)"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Group Name"})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Choose a name that will give people a clear idea of what the group is about."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Group Name"}),e.jsx("input",{id:"name",name:"name",type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"e.g., Anxiety Support Circle",className:`w-full px-4 py-3 border ${(null==Y?void 0:Y.name)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors`,maxLength:50}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("div",{children:(null==Y?void 0:Y.name)?e.jsx("p",{className:"text-red-600",children:Y.name}):e.jsx("p",{className:"text-slate-500",children:y.length<3?"Please enter at least 3 characters":"Great! Your group name looks good"})}),e.jsxs("div",{className:""+(y.length>40?"text-orange-500":y.length>=3?"text-green-500":"text-slate-500"),children:[y.length,"/",50]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Description"})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Describe the purpose of your group, who should join, and what you'll do at your events."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"about",className:"block text-sm font-medium text-slate-700",children:"Group Description"}),e.jsx("textarea",{id:"about",name:"about",value:k,onChange:e=>C(e.target.value),placeholder:"Please write at least 20 characters describing your group...",rows:5,className:`w-full px-4 py-3 border ${(null==Y?void 0:Y.about)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors resize-none`,maxLength:W}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("div",{children:(null==Y?void 0:Y.about)?e.jsx("p",{className:"text-red-600",children:Y.about}):e.jsx("p",{className:"text-slate-500",children:k.length<20?"Please write at least 20 characters":"Great! Your description looks good"})}),e.jsxs("div",{className:""+(k.length>120?"text-orange-500":k.length>=20?"text-green-500":"text-slate-500"),children:[k.length,"/",W]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(u,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Group Image"})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Upload an image that represents your group. This will be displayed on your group page."}),M?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:M,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-slate-300"}),e.jsx("button",{type:"button",onClick:()=>{E(null),I(null)},className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm p-1 rounded-full hover:bg-white transition-colors",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-700",children:[e.jsx("path",{d:"M18 6L6 18"}),e.jsx("path",{d:"M6 6l12 12"})]})}),e.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},className:"absolute bottom-2 right-2 bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium hover:bg-white transition-colors flex items-center gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),e.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),"Change"]})]})}):e.jsxs("div",{onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-orange-300 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(p,{size:32,className:"mx-auto text-slate-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"Click to upload an image"}),e.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, or GIF (max 5MB)"})]}),e.jsx("input",{id:"image-upload",name:"image",type:"file",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t){if(t.size>5242880)return void alert("File size must be less than 5MB");if(!t.type.startsWith("image/"))return void alert("Please select a valid image file");I(t);const e=new FileReader;e.onload=e=>{var s;E(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(t)}},className:"hidden"}),(null==Y?void 0:Y.image)&&e.jsx("p",{className:"text-red-600 text-xs",children:Y.image})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(m,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Group Type"})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Let people know if your group will meet in person or online."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700",children:"Is this an in-person or online group?"}),e.jsxs("select",{id:"type",name:"type",value:z,onChange:e=>G(e.target.value),className:`w-full px-4 py-3 border ${(null==Y?void 0:Y.type)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors`,children:[e.jsx("option",{value:"",children:"Select one"}),e.jsx("option",{value:"in-person",children:"In Person"}),e.jsx("option",{value:"online",children:"Online"})]}),(null==Y?void 0:Y.type)&&e.jsx("p",{className:"text-red-600 text-sm",children:Y.type})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(g,{size:16,className:"text-orange-500"}),e.jsx("h4",{className:"font-medium text-slate-800",children:"Group Guidelines"})]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 pl-6 list-disc",children:[e.jsx("li",{children:"Be respectful and considerate of all members"}),e.jsx("li",{children:"Create a safe space for open discussions"}),e.jsx("li",{children:"Maintain confidentiality within the group"}),e.jsx("li",{children:"Focus on support rather than advice-giving"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsx(l,{to:"/groups",className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-all duration-200 text-center font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",name:"intent",value:"create-group",disabled:!A||$,className:`px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 ${A&&!$?"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg":"bg-slate-300 text-slate-500 cursor-not-allowed"} transition-all duration-200`,children:$?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Group..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:18}),"Create Group"]})})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Please Log In"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You need to be logged in to create a group."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(l,{to:"/login",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Log In"}),e.jsx(l,{to:"/",className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-all duration-200",children:"Go Home"})]})]})})};export{b as default};
