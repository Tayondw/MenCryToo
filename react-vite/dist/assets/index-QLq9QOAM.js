import{j as e}from"./index-DR9USEO5.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{e as t,u as a,L as l,F as n}from"./router-vendor-DbOhO217.js";import{a as i}from"./redux-vendor-s9F9CGgp.js";import{C as d,A as r,N as o,s as c,c as m,B as x,D as h,I as u,J as p,W as j,K as g,Q as v,r as b,O as f}from"./ui-vendor-CGbeMXGk.js";const N=()=>{var N,y,w,z;const I=t(),E=a(),A=i(e=>e.session.user),[D,k]=s.useState("overview"),[$,S]=s.useState(!1);s.useEffect(()=>{(null==I?void 0:I.id)||E("/events")},[I,E]);const C=s.useMemo(()=>!(!A||!(null==I?void 0:I.attendees))&&I.attendees.some(e=>e.user.id===A.id),[A,null==I?void 0:I.attendees]),T=s.useMemo(()=>{var e;return(null==A?void 0:A.id)===(null==(e=null==I?void 0:I.organizer)?void 0:e.id)},[A,null==I?void 0:I.organizer]),F=s.useMemo(()=>new Date(null==I?void 0:I.startDate)<new Date,[null==I?void 0:I.startDate]),L=s.useMemo(()=>(null==I?void 0:I.numAttendees)>=(null==I?void 0:I.capacity),[null==I?void 0:I.numAttendees,null==I?void 0:I.capacity]),M=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),P=()=>{E("/signup",{state:{from:`/events/${I.id}`,eventId:I.id}})},U=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(f,{size:24,className:"text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Event"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to permanently delete"," ",e.jsxs("strong",{children:['"',I.name,'"']}),"? All attendees will be notified and event data will be lost forever."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),e.jsxs(n,{method:"post",className:"flex-1",children:[e.jsx("input",{type:"hidden",name:"intent",value:"delete-event"}),e.jsx("input",{type:"hidden",name:"id",value:I.id}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete Event"})]})]})]})});if(!I)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-slate-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{size:32,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-600",children:"Event not found."})]})});const B=((e,s)=>{const t=new Date(e),a=new Date(s);return t.toDateString()===a.toDateString()?{date:M(e),time:`${O(e)} - ${O(s)}`}:{date:`${M(e)} - ${M(s)}`,time:`${O(e)} - ${O(s)}`}})(I.startDate,I.endDate);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-slate-100",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(l,{to:"/events",className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(r,{size:20}),"Events"]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{className:"inline-flex items-center gap-2 text-slate-600 hover:text-orange-600 font-medium transition-colors",children:[e.jsx(o,{size:16}),"Share Event"]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:e.jsxs("div",{className:"relative h-64 md:h-80",children:[e.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[F?e.jsx("span",{className:"bg-slate-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Past Event"}):e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Upcoming"}),L&&!F&&e.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Full"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:I.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{size:16}),B.date]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{size:16}),B.time]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:16}),I.numAttendees,"/",I.capacity," ","attending"]}),e.jsx("span",{className:"bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full text-xs",children:I.type})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:A?T?e.jsx("div",{className:"flex items-center gap-2",children:!F&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>E(`/groups/${I.groupId}/events/${I.id}`),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[e.jsx(h,{size:16}),"Edit"]}),e.jsxs("button",{onClick:()=>S(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[e.jsx(u,{size:16}),"Delete"]})]})}):C?e.jsxs(n,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"leave-event"}),e.jsx("input",{type:"hidden",name:"id",value:I.id}),e.jsx("input",{type:"hidden",name:"userId",value:A.id}),e.jsx("input",{type:"hidden",name:"attendeeId",value:A.id}),e.jsxs("button",{type:"submit",className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:F,children:[e.jsx(p,{size:18}),F?"Event Ended":"Leave Event"]})]}):e.jsxs(n,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"attend-event"}),e.jsx("input",{type:"hidden",name:"id",value:I.id}),e.jsx("input",{type:"hidden",name:"userId",value:A.id}),e.jsxs("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:F||L,children:[e.jsx(x,{size:18}),F?"Event Ended":L?"Event Full":"Attend Event"]})]}):e.jsxs("button",{onClick:P,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:F||L,children:[e.jsx(x,{size:18}),F?"Event Ended":L?"Event Full":"Attend Event"]})})]})})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-1",children:e.jsx("div",{className:"flex space-x-1",children:[{id:"overview",label:"Overview",icon:d},{id:"attendees",label:"Attendees",icon:m},{id:"group",label:"Group",icon:j},{id:"photos",label:"Photos",icon:g}].map(({id:s,label:t,icon:a})=>e.jsxs("button",{onClick:()=>k(s),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-colors "+(D===s?"bg-orange-100 text-orange-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:[e.jsx(a,{size:18}),t]},s))})}),"overview"===D&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"About This Event"}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:I.description})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Event Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{size:20,className:"text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Date"}),e.jsx("p",{className:"text-slate-600",children:B.date})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{size:20,className:"text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Time"}),e.jsx("p",{className:"text-slate-600",children:B.time})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{size:20,className:"text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Capacity"}),e.jsxs("p",{className:"text-slate-600",children:[I.numAttendees,"/",I.capacity," ","people"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[I.venueInfo?e.jsx(j,{size:20,className:"text-orange-500"}):e.jsx(v,{size:20,className:"text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Location"}),e.jsx("p",{className:"text-slate-600",children:I.venueInfo?`${I.venueInfo.address}, ${I.venueInfo.city}, ${I.venueInfo.state}`:"Online Event"})]})]})]})]})]}),I.organizer&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Event Organizer"}),e.jsxs(l,{to:`/users/${I.organizer.id}`,className:"flex items-center gap-4 p-4 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("img",{src:I.organizer.profileImage,alt:I.organizer.username,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-slate-900",children:[I.organizer.firstName," ",I.organizer.lastName]}),e.jsxs("p",{className:"text-slate-600 text-sm",children:["@",I.organizer.username]}),I.organizer.bio&&e.jsx("p",{className:"text-slate-700 text-sm mt-1 line-clamp-2",children:I.organizer.bio})]})]})]})]}),"attendees"===D&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:["Attendees (",(null==(N=I.attendees)?void 0:N.length)||0,")"]}),A?0===(null==(y=I.attendees)?void 0:y.length)?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(m,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"No attendees yet. Be the first to join!"}),!C&&!F&&!L&&e.jsxs(n,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"attend-event"}),e.jsx("input",{type:"hidden",name:"id",value:I.id}),e.jsx("input",{type:"hidden",name:"userId",value:A.id}),e.jsx("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Attend This Event"})]})]}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-4",children:I.attendees.map(s=>e.jsxs(l,{to:`/users/${s.user.id}`,className:"flex items-center gap-3 p-4 rounded-lg hover:bg-slate-50 transition-colors border border-slate-100",children:[e.jsx("img",{src:s.user.profileImage,alt:s.user.username,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-slate-900",children:[s.user.firstName," ",s.user.lastName]}),e.jsxs("p",{className:"text-slate-600 text-sm",children:["@",s.user.username]})]})]},s.user.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(m,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"You must be logged in to view event attendees."}),e.jsx("button",{onClick:P,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Sign Up to View Attendees"})]})]}),"group"===D&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Hosting Group"}),I.groupInfo?e.jsxs(l,{to:`/groups/${I.groupInfo.id}`,className:"block p-6 rounded-lg hover:bg-slate-50 transition-colors border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:I.groupInfo.image,alt:I.groupInfo.name,className:"w-16 h-16 rounded-xl object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-lg",children:I.groupInfo.name}),e.jsxs("p",{className:"text-slate-600",children:[I.groupInfo.city,","," ",I.groupInfo.state]})]})]}),e.jsx("p",{className:"text-slate-700 mb-4",children:I.groupInfo.about}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14}),I.groupInfo.numMembers," members"]}),e.jsx("span",{className:"bg-slate-100 text-slate-700 px-2 py-1 rounded-full text-xs font-medium",children:I.groupInfo.type})]})]}):e.jsx("p",{className:"text-slate-600",children:"No group information available."})]}),"photos"===D&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Event Photos"}),0!==(null==(w=I.eventImage)?void 0:w.length)&&I.eventImage?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:null==(z=I.eventImage)?void 0:z.map(s=>e.jsx("div",{className:"aspect-square rounded-lg overflow-hidden hover:opacity-90 transition-opacity cursor-pointer",children:e.jsx("img",{src:s.eventImage,alt:s.name,className:"w-full h-full object-cover"})},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"No photos uploaded yet."}),T&&!F&&e.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Add Photos"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Event Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Attending"}),e.jsx("span",{className:"font-semibold text-slate-900",children:I.numAttendees})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Capacity"}),e.jsx("span",{className:"font-semibold text-slate-900",children:I.capacity})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Available"}),e.jsx("span",{className:"font-semibold text-slate-900",children:I.capacity-I.numAttendees})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Type"}),e.jsx("span",{className:"font-semibold text-slate-900",children:I.type})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Location"}),e.jsxs("div",{className:"flex items-start gap-3",children:[I.venueInfo?e.jsx(b,{size:20,className:"text-orange-500 mt-0.5"}):e.jsx(v,{size:20,className:"text-orange-500 mt-0.5"}),e.jsx("div",{children:I.venueInfo?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-slate-900",children:I.venueInfo.address}),e.jsxs("p",{className:"text-slate-600",children:[I.venueInfo.city,","," ",I.venueInfo.state]})]}):e.jsx("p",{className:"text-slate-600",children:"This is an online event"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Share This Event"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(o,{size:16}),"Share Event"]})]})]})]})]}),$&&e.jsx(U,{onClose:()=>S(!1)})]})};export{N as default};
