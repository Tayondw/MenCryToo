import{j as e}from"./index-fkdTXUqh.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{F as t,b as a,e as r,f as n,u as l,L as i}from"./router-vendor-DqRelNZw.js";import{P as o,u as d,a as c,b as m}from"./CommentThread-8lV8dGCX.js";import{a0 as x,R as u,a1 as g,u as h,m as p,X as f,A as b,x as j,n as y,C as v,c as N,z as w,a2 as k,a as C,U as T,a3 as A,S,I,w as z,B as E,a4 as L}from"./ui-vendor-LOG_mfyu.js";import{E as M,G as P}from"./EventsCard-DK8GV-7r.js";import{P as D}from"./PostMenu-C289LTnX.js";import{u as Z,C as O}from"./CommentModal-Bo2mewch.js";import"./redux-vendor-s9F9CGgp.js";const R=({post:s,currentUser:t,currentLikeState:a,currentCommentCount:r,formatTimeAgo:n,onLikeToggle:l,onCommentsClick:i,onPostClick:d,onLikesClick:c,navigate:m,PostMenu:p})=>e.jsxs("article",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md hover:border-orange-300 transition-all duration-300 group h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("img",{src:t.profileImage,alt:t.username,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-100"}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("span",{className:"font-semibold text-gray-800 text-sm truncate block",children:t.username})})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(p,{post:s,navigate:m})})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsx("h3",{className:"text-lg h-12 font-bold text-gray-800 leading-tight cursor-pointer hover:text-orange-600 transition-colors duration-200 tracking-widest place-content-center",onClick:()=>d(s.id),children:s.title})}),s.image&&e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden cursor-pointer",onClick:()=>d(s.id),children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-4 pt-3 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx(o,{postId:s.id,initialLikeCount:a.likeCount,initialIsLiked:a.isLiked,onLikeToggle:l,onLikesClick:()=>c(s.id),size:18,disabled:a.isLoading}),e.jsxs("button",{onClick:()=>i(s.id),className:"flex items-center gap-2 text-gray-600 hover:text-blue-500 transition-colors duration-200",children:[e.jsx(x,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:r})]}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-green-500 transition-colors duration-200 ml-auto",children:e.jsx(u,{size:16})}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-yellow-500 transition-colors duration-200",children:e.jsx(g,{size:16})})]}),e.jsx("div",{className:"mt-auto mb-4",children:e.jsxs("div",{className:"flex h-10 items-start gap-2 text-gray-700 text-sm leading-relaxed",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:t.username}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{size:12,className:"text-gray-500"}),e.jsx("span",{className:"text-gray-500 text-xs",children:n(s.updatedAt)})]}),e.jsx("span",{className:"text-gray-500",children:"•"})]}),e.jsx("div",{className:"flex-1 min-w-0",children:((t,a=3)=>{const r=20*a;if(t.length<=r)return e.jsx("span",{children:t});const n=t.substring(0,r),l=n.lastIndexOf(" "),i=l>0?n.substring(0,l):n;return e.jsxs("span",{children:[i,e.jsx("button",{onClick:e=>{e.preventDefault(),m(`/posts/${s.id}`)},className:"text-orange-600 hover:text-orange-700 font-medium ml-1 transition-colors duration-200",children:"...more"})]})})(s.caption)})]})})]})]}),Y=({user:a,onClose:r,onConfirm:n})=>{s.useEffect(()=>{const e=()=>r();return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[r]);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"flex items-center gap-3 text-xl font-semibold text-gray-900",children:[e.jsx(p,{size:24}),"Confirm Account Deletion"]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",onClick:r,"aria-label":"Close modal",children:e.jsx(f,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(b,{size:60,color:"#dc2626"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-6",children:"Are you sure you want to permanently delete your account?"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 font-medium mb-3",children:[e.jsx(b,{size:16}),"This action cannot be undone"]}),e.jsx("p",{className:"text-red-700 mb-3",children:"Deleting your account will permanently remove:"}),e.jsxs("ul",{className:"text-red-700 space-y-1 ml-4",children:[e.jsx("li",{className:"list-disc",children:"Your profile and all personal information"}),e.jsx("li",{className:"list-disc",children:"All posts, comments, and interactions"}),e.jsx("li",{className:"list-disc",children:"Any groups you created (members will be notified)"}),e.jsx("li",{className:"list-disc",children:"Events you organized (attendees will be notified)"}),e.jsx("li",{className:"list-disc",children:"Your connections and network within the platform"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-red-100 border border-red-300 rounded text-red-800",children:[e.jsx("strong",{children:"Important:"})," Please inform group members and event attendees before proceeding!"]})]})]}),e.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",onClick:e=>{e.preventDefault(),r()},children:"Cancel"}),e.jsxs(t,{method:"post",onSubmit:async()=>{n()},style:{display:"inline"},children:[e.jsx("input",{type:"hidden",name:"intent",value:"delete-profile"}),e.jsx("input",{type:"hidden",name:"userId",value:a.id.toString()}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Delete Account"})]})]})]})})},G=({user:n,onClose:l})=>{var i;const[o,d]=s.useState([]),[c,m]=s.useState(!1),x=a(),u=r(),g=(null==(i=n.usersTags)?void 0:i.map(e=>e.name))||[],h=["ANGER","ANXIETY","DEPRESSION","SUBSTANCE ABUSE","STRESS","TRAUMA","RELATIONSHIPS","GRIEF","COMING OUT","SUICIDAL THOUGHTS"].filter(e=>!g.includes(e)),p="submitting"===x.state;s.useEffect(()=>{p&&m(!0)},[p]),s.useEffect(()=>{const e=()=>l();return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[l]),s.useEffect(()=>{if(c&&"idle"===x.state&&!(null==u?void 0:u.error)){const e=setTimeout(()=>{l()},100);return()=>clearTimeout(e)}},[c,x.state,u,l]);const b=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl overflow-hidden shadow-2xl max-h-[90vh] h-auto flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-8 pt-8 pb-4 bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-200 flex-shrink-0",children:[e.jsxs("h2",{className:"text-2xl font-bold text-sky-700 flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(j,{size:24}),"Add New Tags"]}),e.jsx("button",{className:"bg-transparent border-none text-gray-500 cursor-pointer p-2 rounded-lg transition-all duration-200 flex items-center justify-center w-10 h-10 flex-shrink-0 hover:bg-blue-100 hover:text-sky-700 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:l,"aria-label":"Close modal",children:e.jsx(f,{size:20})})]}),e.jsxs("div",{className:"px-8 py-8 flex-1 overflow-y-auto min-h-0 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-slate-100 hover:scrollbar-thumb-slate-400",children:[e.jsx("div",{className:"mb-8 text-center",children:e.jsx("p",{className:"text-base text-gray-600 m-0 leading-relaxed",children:"Select additional tags that resonate with you. These help connect you with similar users."})}),(null==u?void 0:u.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg mb-6 text-center",children:u.error}),h.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 m-0 mb-4",children:"Available Tags"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:h.map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-xl cursor-pointer transition-all duration-200 bg-white relative overflow-hidden hover:border-blue-500 hover:bg-slate-50 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-500/15 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[e.jsx("input",{type:"checkbox",checked:o.includes(s),onChange:()=>b(s),className:"hidden"}),e.jsx("span",{className:"w-5 h-5 border-2 rounded flex-shrink-0 flex items-center justify-center transition-all duration-200 "+(o.includes(s)?"bg-blue-500 border-blue-500 text-white":"border-gray-300 bg-white"),children:o.includes(s)&&e.jsx(y,{size:12})}),e.jsx("span",{className:"text-sm text-gray-700 font-medium flex-1 hover:text-gray-800",children:s})]},s))})]}),o.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 border border-sky-200 rounded-xl p-6 mb-8",children:[e.jsxs("h4",{className:"text-base font-semibold text-sky-700 m-0 mb-4",children:["Selected Tags (",o.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(s=>e.jsxs("span",{className:"bg-blue-500 text-white px-3 py-2 rounded-full text-xs font-medium flex items-center gap-2 transition-all duration-200 hover:bg-blue-600 hover:scale-105",children:[s,e.jsx("button",{type:"button",onClick:()=>b(s),className:"bg-transparent border-none text-white cursor-pointer p-0.5 rounded-full transition-all duration-200 flex items-center justify-center hover:bg-white/20 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":`Remove ${s}`,children:e.jsx(f,{size:14})})]},s))})]})]}):e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx(y,{size:48,className:"text-emerald-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-emerald-600 m-0 mb-4",children:"All Tags Added!"}),e.jsx("p",{className:"text-base text-gray-600 m-0 leading-relaxed",children:"You've already added all available tags to your profile. Great job building your interests!"})]}),g.length>0&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 mt-8",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-700 m-0 mb-4",children:"Your Current Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(s=>e.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-2 rounded-full text-xs font-medium",children:s},s))})]})]}),e.jsxs("div",{className:"flex gap-4 px-8 pt-6 pb-8 bg-gray-50 border-t border-gray-200 justify-end flex-shrink-0",children:[e.jsx("button",{className:"px-6 py-3 border-2 border-gray-300 rounded-lg bg-white text-gray-600 font-semibold cursor-pointer transition-all duration-200 text-sm min-w-[120px] hover:bg-gray-50 hover:border-gray-400 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-gray-400/10 disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:e=>{e.preventDefault(),l()},disabled:p,children:"Cancel"}),h.length>0&&e.jsxs(t,{method:"post",action:"/profile",className:"inline",children:[e.jsx("input",{type:"hidden",name:"intent",value:"add-tags"}),e.jsx("input",{type:"hidden",name:"userId",value:n.id.toString()}),o.map(s=>e.jsx("input",{type:"hidden",name:"userTags",value:s},s)),e.jsx("button",{type:"submit",className:"px-6 py-3 border-none rounded-lg bg-gradient-to-r from-orangy to-blue-600 text-white font-semibold cursor-pointer transition-all duration-200 text-sm min-w-[140px] relative overflow-hidden hover:from-blue-600 hover:to-blue-700 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-blue-500/30 disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:0===o.length||p,children:p?"Adding...":`Add ${o.length} Tag${1!==o.length?"s":""}`})]})]})]})},U={id:1,username:"johndoe",firstName:"John",lastName:"Doe",email:"john.doe@example.com",hashedPassword:"mock_hashed_password_123",bio:"Passionate developer and community builder focused on mental health advocacy and creating supportive environments for men to express their emotions.",profileImage:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop",createdAt:"2024-01-01T08:00:00Z",updatedAt:"2024-01-20T15:30:00Z",usersTags:[{id:1,name:"ANXIETY"},{id:2,name:"DEPRESSION"},{id:3,name:"STRESS"},{id:4,name:"RELATIONSHIPS"}],posts:[{id:1,title:"My Journey with Mental Health",caption:"Just finished working on an amazing React project with some incredible features! It has been a transformative experience that helped me cope with my anxiety.",image:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=800",likes:42,creator:1,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",user:{},comments:3},{id:2,title:"Finding Support in Community",caption:"Exploring the world of design systems and component libraries while dealing with depression. The creative process has been therapeutic.",image:"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=800",likes:28,creator:1,createdAt:"2024-01-10T14:20:00Z",updatedAt:"2024-01-10T14:20:00Z",user:{},comments:1},{id:3,title:"Breaking the Silence",caption:"Learning to express my emotions and break free from toxic masculinity. It is okay for men to cry and seek help.",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=800",likes:67,creator:1,createdAt:"2024-01-05T16:45:00Z",updatedAt:"2024-01-05T16:45:00Z",user:{},comments:5}],group:[{id:1,name:"Men's Mental Health Support",about:"A safe space for men to discuss mental health challenges and support each other",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",city:"San Francisco",state:"CA",numMembers:1250,numEvents:1,type:"Support Group",organizerId:1,events:[]},{id:2,name:"Anxiety Support Circle",about:"Supporting each other through anxiety and panic disorders",image:"https://images.pexels.com/photos/3184360/pexels-photo-3184360.jpeg?auto=compress&cs=tinysrgb&w=400",city:"Oakland",state:"CA",numMembers:850,numEvents:5,type:"Support Group",organizerId:1,events:[]}],events:[{id:1,name:"Mental Health Awareness Conference 2024",description:"Annual conference focused on men's mental health awareness and breaking stigma",image:"https://images.pexels.com/photos/1181676/pexels-photo-1181676.jpeg?auto=compress&cs=tinysrgb&w=400",numAttendees:150,capacity:200,type:"Conference",startDate:"2024-03-15T09:00:00Z",endDate:"2024-03-15T18:00:00Z",venueInfo:{id:4,groupId:1,address:"1000 Conference Center Dr",city:"San Francisco",state:"CA",latitude:37.7849,longitude:-122.4194},groupInfo:{}},{id:2,name:"Stress Management Workshop",description:"Interactive workshop on managing stress in daily life and work environments",image:"https://images.pexels.com/photos/3184340/pexels-photo-3184340.jpeg?auto=compress&cs=tinysrgb&w=400",numAttendees:45,capacity:50,type:"Workshop",startDate:"2024-02-28T14:00:00Z",endDate:"2024-02-28T17:00:00Z",venueInfo:{id:5,groupId:2,address:"555 Workshop Way",city:"Oakland",state:"CA",latitude:37.8144,longitude:-122.2811},groupInfo:{}}],userComments:[{id:1,comment:"Thank you for sharing your story, it really helped me!",userId:2,postId:1,createdAt:"2024-01-16T09:15:00Z",updatedAt:"2024-01-16T09:15:00Z"},{id:2,comment:"Your post about anxiety management was incredibly helpful.",userId:3,postId:1,createdAt:"2024-01-16T14:30:00Z",updatedAt:"2024-01-16T14:30:00Z"},{id:3,comment:"I appreciate your vulnerability and openness about mental health.",userId:4,postId:3,createdAt:"2024-01-06T10:20:00Z",updatedAt:"2024-01-06T10:20:00Z"},{id:4,comment:"Looking forward to the next group session!",userId:5,createdAt:"2024-01-18T16:45:00Z",updatedAt:"2024-01-18T16:45:00Z"}]},F=()=>{var t;const a=n(),r=l(),o=(null==a?void 0:a.user)||U,[x,u]=s.useState("posts"),[g,h]=s.useState("tags"),[p,f]=s.useState(!1),[b,y]=s.useState(!1),[F,$]=s.useState("grid"),[H,J]=s.useState(""),[B,W]=s.useState(new Map),{likeStates:_,setLikeState:X,fetchLikeStatus:Q}=d(),{isOpen:q,postId:K,openModal:V,closeModal:ee}=c(),{modal:se,openModal:te,closeModal:ae}=Z({forceRefreshOnClose:!0,refreshDelay:100}),re=s.useMemo(()=>(null==o?void 0:o.usersTags)??[],[o]),ne=s.useMemo(()=>(null==o?void 0:o.posts)??[],[o]),le=s.useMemo(()=>(null==o?void 0:o.group)??[],[o]),ie=s.useMemo(()=>(null==o?void 0:o.events)??[],[o]),oe=s.useMemo(()=>[...ne].sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()),[ne]);s.useEffect(()=>{ne.forEach(e=>{_.has(e.id)||(X(e.id,!1,e.likes),Q(e.id))})},[ne,_,X,Q]),s.useEffect(()=>{const e=new Map;ne.forEach(s=>{e.set(s.id,s.comments)}),W(e)},[ne]);const de=s.useMemo(()=>{let e;switch(x){case"posts":e=oe;break;case"groups":e=le;break;case"events":e=ie;break;default:e=[]}if(!H)return e;const s=H.toLowerCase();return"posts"===x?e.filter(e=>e.title.toLowerCase().includes(s)||e.caption.toLowerCase().includes(s)):"groups"===x?e.filter(e=>e.name.toLowerCase().includes(s)||e.about.toLowerCase().includes(s)):"events"===x?e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)):e},[x,H,oe,le,ie]),ce=s.useCallback(e=>{const s=new Date,t=new Date(e);return`${Math.floor((s.getTime()-t.getTime())/864e5)}d ago`},[]),me=s.useCallback(async(e,s,t)=>{X(e,s,t)},[X]),xe=s.useCallback(e=>{ne.find(s=>s.id===e);const s=(e,s)=>{W(t=>{const a=new Map(t);return a.set(e,s),a})};te(e,[],s)},[ne,te]),ue=s.useCallback(e=>{V(e)},[V]),ge=s.useCallback(e=>{r(`/posts/${e}`)},[r]),he=s.useCallback(()=>{f(!0)},[]),pe=s.useCallback(()=>{f(!1)},[]),fe=s.useCallback(()=>{f(!1)},[]),be=s.useCallback(()=>{y(!0)},[]),je=s.useCallback(()=>{y(!1)},[]),ye=()=>ne.reduce((e,s)=>e+(s.likes||0),0),ve=s.useCallback(()=>{const s=de;switch(x){case"posts":return ne.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-6 w-full":"space-y-6"),children:s.map(s=>{const t=_.get(s.id)||{isLiked:!1,likeCount:s.likes,isLoading:!1},a=B.get(s.id)??s.comments;return e.jsx(R,{post:s,currentUser:o,currentLikeState:t,currentCommentCount:a,formatTimeAgo:ce,onLikeToggle:me,onCommentsClick:xe,onPostClick:ge,onLikesClick:ue,navigate:r,PostMenu:D},s.id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(w,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Posts Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Share your first post to get started!"}),e.jsxs(i,{to:"/posts/create",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(j,{size:16}),"Create Post"]})]})});case"groups":return le.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>e.jsx(P,{group:s},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(N,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Groups Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Join groups to connect with like-minded people!"}),e.jsxs(i,{to:"/groups",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(N,{size:16}),"Explore Groups"]})]})});case"events":return ie.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>e.jsx(M,{event:s},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(v,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Events Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create or join events to get started!"}),e.jsxs(i,{to:"/events",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(v,{size:16}),"Explore Events"]})]})});default:return null}},[x,de,F,o,ne,le,ie,ce,r,_,me,xe,ue,ge,B]),Ne=s.useCallback(()=>{switch(g){case"tags":return re.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(s=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-orange-100 to-slate-100 text-gray-700 text-sm font-medium rounded-full border border-gray-200 hover:shadow-sm transition-all duration-200",children:s.name},s.id))}),e.jsxs("button",{onClick:be,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(j,{size:16}),"Add Tags"]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(T,{className:"text-gray-400",size:20})}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No tags added yet."})]}),e.jsxs("button",{onClick:be,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(j,{size:16}),"Add Tags"]})]});case"similar":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(k,{className:"text-white",size:20})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Discover Similar Users"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Find users with similar interests based on your tags"})]}),e.jsx(i,{to:"/profile-feed",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(C,{size:16}),"Find Similar Users"]})})]});default:return null}},[g,re,be]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{to:"/similar-feed",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all duration-200",children:"← Posts Feed"}),e.jsxs(i,{to:"/posts/create",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(j,{size:16}),"Create Post"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("main",{className:"lg:col-span-3 space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"relative h-32 bg-gradient-to-r from-orange-500 to-slate-600",children:e.jsx("div",{className:"absolute inset-0 bg-black/20"})}),e.jsx("div",{className:"relative px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:gap-6 -mt-16",children:[e.jsxs("div",{className:"relative justify-center self-center",children:[e.jsx("img",{src:null==o?void 0:o.profileImage,alt:null==o?void 0:o.username,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx(i,{to:`/users/${null==o?void 0:o.id}/profile/update`,className:"absolute bottom-2 right-2 p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 border border-gray-200 group",children:e.jsx(A,{size:16,className:"text-gray-600 group-hover:text-orange-600 transition-colors"})})]}),e.jsxs("div",{className:"flex-1 mt-4 sm:mt-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"mt-16",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:null==o?void 0:o.username}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[null==o?void 0:o.firstName," ",null==o?void 0:o.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:null==o?void 0:o.email})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 sm:-mt-8",children:[e.jsxs(i,{to:`/users/${null==o?void 0:o.id}/profile/update`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-all duration-200",children:[e.jsx(S,{size:16}),"Edit Profile"]}),e.jsxs("button",{onClick:he,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 font-medium rounded-lg hover:bg-red-100 transition-all duration-200",children:[e.jsx(I,{size:16}),"Delete"]})]})]}),(null==o?void 0:o.bio)&&e.jsx("p",{className:"text-gray-700 mt-4 leading-relaxed",children:o.bio}),e.jsxs("div",{className:"flex items-center gap-8 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ne.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Posts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ye()}),e.jsx("div",{className:"text-sm text-gray-500",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:le.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Groups"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ie.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Events"})]})]})]})]})})]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:["posts","groups","events"].map(s=>e.jsxs("button",{onClick:()=>u(s),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 "+(x===s?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[s.charAt(0).toUpperCase()+s.slice(1)," (","posts"===s?ne.length:"groups"===s?le.length:ie.length,")"]},s))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:`Search ${x}...`,value:H,onChange:e=>J(e.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>$("grid"),className:"p-2 rounded-md transition-all duration-200 "+("grid"===F?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(w,{size:16})}),e.jsx("button",{onClick:()=>$("list"),className:"p-2 rounded-md transition-all duration-200 "+("list"===F?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(E,{size:16})})]})]})]}),H&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",de.length,' results for "',H,'"']})]}),e.jsx("div",{className:"p-6",children:ve()})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>h("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===g?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Your Tags"}),e.jsx("button",{onClick:()=>h("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===g?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),Ne()]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(L,{size:16,className:"text-orange-500"}),"Quick Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ne.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ye()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Groups Joined"}),e.jsx("span",{className:"font-semibold text-gray-800",children:le.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Events Attending"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ie.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profile Tags"}),e.jsx("span",{className:"font-semibold text-gray-800",children:re.length})]})]})]})]})]})}),e.jsxs("section",{className:"lg:hidden bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-7xl mx-auto mt-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Your Profile Tags"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your interests and find similar users"})]}),e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>h("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===g?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Your Tags"}),e.jsx("button",{onClick:()=>h("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===g?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),Ne()]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(Y,{user:o,onClose:pe,onConfirm:fe})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(G,{user:o,onClose:je})})}),e.jsx(O,{isOpen:se.isOpen,onClose:ae,postId:se.postId||0,initialComments:se.comments,forceRefreshOnClose:!0,onCommentsChange:(e,s)=>{W(t=>{const a=new Map(t);return a.set(e,s),a})}}),q&&K&&e.jsx(m,{isOpen:q,onClose:ee,postId:K,initialCount:(null==(t=_.get(K))?void 0:t.likeCount)||0})]})};export{F as default};
