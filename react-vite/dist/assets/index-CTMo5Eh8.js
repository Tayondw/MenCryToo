import{j as e}from"./index-D_QOT4VP.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{e as t,u as a,L as r}from"./router-vendor-DFbjbkyO.js";import{a as l}from"./redux-vendor-s9F9CGgp.js";import{h as i,C as n,c as d,e as o,a1 as c,Q as x,a2 as m,t as g,y as h,w as u,a3 as j,a as f,U as p,A as b,v as N,z as v,a5 as y}from"./ui-vendor-CiRjMc1E.js";const w=()=>e.jsx(i,{}),k=()=>{const i=t(),k=a(),z=l(e=>e.session.user),[C,S]=s.useState("posts"),[L,T]=s.useState("tags"),[M,D]=s.useState("grid"),[E,P]=s.useState("");s.useEffect(()=>{z||k("/",{replace:!0})},[z,k]);const U=s.useMemo(()=>(null==i?void 0:i.usersTags)??[],[i]),A=s.useMemo(()=>(null==i?void 0:i.posts)??[],[i]),F=s.useMemo(()=>(null==i?void 0:i.group)??[],[i]),G=s.useMemo(()=>(null==i?void 0:i.events)??[],[i]),$=s.useMemo(()=>(null==i?void 0:i.userComments)??[],[i]),I=s.useMemo(()=>[...A].sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()),[A]),Y=s.useMemo(()=>{if(!E)switch(C){case"posts":return I;case"groups":return F;case"events":return G;default:return[]}const e=E.toLowerCase();switch(C){case"posts":return I.filter(s=>s.title.toLowerCase().includes(e)||s.caption.toLowerCase().includes(e));case"groups":return F.filter(s=>s.name.toLowerCase().includes(e)||s.about.toLowerCase().includes(e));case"events":return G.filter(s=>s.name.toLowerCase().includes(e)||s.description.toLowerCase().includes(e));default:return[]}},[C,E,I,F,G]),J=s.useCallback(e=>{const s=new Date,t=new Date(e);return`${Math.floor((s.getTime()-t.getTime())/864e5)}d ago`},[]),H=()=>A.reduce((e,s)=>e+(s.likes||0),0),Q=s.useCallback(()=>{const s=Y;switch(C){case"posts":return A.length>0?e.jsx("div",{className:""+("grid"===M?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-6 w-full":"space-y-6"),children:s.map(s=>e.jsxs("article",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 group flex flex-col",style:{minHeight:"500px"},children:[e.jsx("div",{className:"p-4 border-b border-gray-50 flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("img",{src:null==i?void 0:i.profileImage,alt:null==i?void 0:i.username,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-100 flex-shrink-0"}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("span",{className:"font-semibold text-gray-800 block truncate",children:null==i?void 0:i.username})})]})})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-50 flex-shrink-0",children:e.jsx("h3",{className:"font-semibold text-gray-800 text-base tracking-normal leading-tight break-words",children:s.title})}),s.image&&e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-3",children:[e.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-red-500 transition-colors duration-200",children:[e.jsx(o,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:s.likes})]}),e.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-blue-500 transition-colors duration-200",children:[e.jsx(c,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:$.length})]}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-green-500 transition-colors duration-200 ml-auto",children:e.jsx(x,{size:16})}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-yellow-500 transition-colors duration-200",children:e.jsx(m,{size:16})})]}),e.jsx("div",{className:"text-sm text-gray-700 leading-relaxed flex-1",children:e.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-gray-800 flex-shrink-0",children:null==i?void 0:i.username}),e.jsxs("span",{className:"text-xs text-gray-500 flex self-center items-center gap-1 flex-shrink-0",children:[e.jsx(g,{size:12}),J(s.updatedAt)]}),e.jsx("span",{className:"break-words",children:s.caption})]})})]})]},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Posts Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Share your first post to get started!"}),e.jsxs(r,{to:"/posts/create",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(u,{size:16}),"Create Post"]})]})});case"groups":return F.length>0?e.jsx("div",{className:""+("grid"===M?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>{var t;return e.jsx(r,{to:`/groups/${s.id}`,className:"group block",children:e.jsxs("article",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm text-xs font-medium text-gray-700 rounded-full",children:s.type})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-orange-600 transition-colors duration-200",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:s.about}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{size:14}),e.jsxs("span",{children:[s.numMembers.toLocaleString()," members"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{size:14}),e.jsxs("span",{children:[(null==(t=s.events)?void 0:t.length)||0," events"]})]})]})]})]})},s.id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Groups Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Join groups to connect with like-minded people!"}),e.jsxs(r,{to:"/groups",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(d,{size:16}),"Explore Groups"]})]})});case"events":return G.length>0?e.jsx("div",{className:""+("grid"===M?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>e.jsx(r,{to:`/events/${s.id}`,className:"group block",children:e.jsxs("article",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm text-xs font-medium text-gray-700 rounded-full",children:s.type})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-orange-600 transition-colors duration-200",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:14}),e.jsx("span",{children:new Date(s.startDate).toLocaleDateString()})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{size:14}),e.jsxs("span",{children:[s.numAttendees,"/",s.capacity," attending"]})]})})]})]})]})},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Events Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create or join events to get started!"}),e.jsxs(r,{to:"/events",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(n,{size:16}),"Explore Events"]})]})});default:return null}},[C,Y,M,i,$,A,F,G,J]),V=s.useCallback(()=>{switch(L){case"tags":return U.length>0?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(s=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-orange-100 to-slate-100 text-gray-700 text-sm font-medium rounded-full border border-gray-200 hover:shadow-sm transition-all duration-200",children:s.name},s.id))})}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(p,{className:"text-gray-400",size:20})}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No tags added yet."})]})});case"similar":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(j,{className:"text-white",size:20})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Discover Similar Users"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Find users with similar interests based on your tags"})]}),e.jsx(r,{to:"/profile-feed",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(f,{size:16}),"Find Similar Users"]})})]});default:return null}},[L,U]);return i?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(r,{to:"/similar-feed",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all duration-200",children:[e.jsx(b,{size:18}),"Posts Feed"]}),e.jsxs(r,{to:"/posts/create",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(u,{size:16}),"Create Post"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("main",{className:"lg:col-span-3 space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"relative h-32 bg-gradient-to-r from-orange-500 to-slate-600",children:e.jsx("div",{className:"absolute inset-0 bg-black/20"})}),e.jsx("div",{className:"relative px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:gap-6 -mt-16",children:[e.jsx("div",{className:"relative self-center",children:e.jsx("img",{src:i.profileImage,alt:i.username,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"})}),e.jsxs("div",{className:"flex-1 mt-4 sm:mt-0",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:e.jsxs("div",{className:"mt-20",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i.username}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[i.firstName," ",i.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:i.email})]})}),i.bio&&e.jsx("p",{className:"text-gray-700 mt-4 leading-relaxed",children:i.bio}),e.jsxs("div",{className:"flex items-center gap-8 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:A.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Posts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:H()}),e.jsx("div",{className:"text-sm text-gray-500",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:F.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Groups"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:G.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Events"})]})]})]})]})})]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:["posts","groups","events"].map(s=>e.jsxs("button",{onClick:()=>S(s),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 "+(C===s?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[s.charAt(0).toUpperCase()+s.slice(1)," (","posts"===s?A.length:"groups"===s?F.length:G.length,")"]},s))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:`Search ${C}...`,value:E,onChange:e=>P(e.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>D("grid"),className:"p-2 rounded-md transition-all duration-200 "+("grid"===M?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(h,{size:16})}),e.jsx("button",{onClick:()=>D("list"),className:"p-2 rounded-md transition-all duration-200 "+("list"===M?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(v,{size:16})})]})]})]}),E&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",Y.length,' results for "',E,'"']})]}),e.jsx("div",{className:"p-6",children:Q()})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>T("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===L?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"User Tags"}),e.jsx("button",{onClick:()=>T("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===L?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),V()]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(y,{size:16,className:"text-orange-500"}),"User Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("span",{className:"font-semibold text-gray-800",children:A.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-semibold text-gray-800",children:H()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Groups Joined"}),e.jsx("span",{className:"font-semibold text-gray-800",children:F.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Events Attending"}),e.jsx("span",{className:"font-semibold text-gray-800",children:G.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profile Tags"}),e.jsx("span",{className:"font-semibold text-gray-800",children:U.length})]})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(p,{size:16,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsxs("p",{className:"font-medium text-gray-800",children:[i.firstName," ",i.lastName]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(w,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-800",children:i.email})]})]})]})]})]})]})}),e.jsxs("section",{className:"lg:hidden bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-7xl mx-auto mt-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"User Profile Tags"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"View interests and find similar users"})]}),e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>T("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===L?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"User Tags"}),e.jsx("button",{onClick:()=>T("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===L?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),V()]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading user profile..."})]})})};export{k as default};
