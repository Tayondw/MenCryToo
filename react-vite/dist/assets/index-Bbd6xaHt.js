import{j as e}from"./index-D1HbfN_4.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{F as t,b as a,e as r,f as i,u as n,L as l}from"./router-vendor-DqRelNZw.js";import{P as o,u as d,a as c,b as m}from"./CommentThread-d2zcaQG9.js";import{E as x,G as u}from"./EventsCard-CTK_jxI1.js";import{a0 as h,R as g,a1 as p,u as j,m as f,X as b,A as v,x as y,n as N,C as w,c as k,z as C,a2 as T,a as A,U as S,a3 as I,S as z,I as E,w as L,B as M,a4 as P}from"./ui-vendor-LOG_mfyu.js";import{P as D}from"./PostMenu-JUX3m7UC.js";import{u as Z,C as O}from"./CommentModal-DRji3glo.js";import"./redux-vendor-s9F9CGgp.js";const R=({post:s,currentUser:t,currentLikeState:a,currentCommentCount:r,formatTimeAgo:i,onLikeToggle:n,onCommentsClick:l,onPostClick:d,onLikesClick:c,navigate:m,PostMenu:x})=>e.jsxs("article",{className:"post-card-fixed group",children:[e.jsxs("div",{className:"post-header-fixed",children:[e.jsxs("div",{className:"post-user-info-fixed",children:[e.jsx("img",{src:t.profileImage,alt:t.username,className:"post-avatar-fixed"}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("span",{className:"post-username-fixed block",children:t.username})})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{post:s,navigate:m})})]}),e.jsx("div",{className:"post-title-section-fixed",children:e.jsx("h3",{className:"post-title-fixed",onClick:()=>d(s.id),children:s.title})}),s.image&&e.jsxs("div",{className:"post-image-section-fixed",onClick:()=>d(s.id),children:[e.jsx("img",{src:s.image,alt:s.title,className:"post-image-fixed"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"post-content-fixed",children:[e.jsxs("div",{className:"post-actions-fixed",children:[e.jsx(o,{postId:s.id,initialLikeCount:a.likeCount,initialIsLiked:a.isLiked,onLikeToggle:n,onLikesClick:()=>c(s.id),size:18,disabled:a.isLoading}),e.jsxs("button",{onClick:()=>l(s.id),className:"flex items-center gap-2 text-gray-600 hover:text-blue-500 transition-colors duration-200",children:[e.jsx(h,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:r})]}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-green-500 transition-colors duration-200 ml-auto",children:e.jsx(g,{size:16})}),e.jsx("button",{className:"flex items-center gap-2 text-gray-600 hover:text-yellow-500 transition-colors duration-200",children:e.jsx(p,{size:16})})]}),e.jsxs("div",{className:"post-caption-fixed",children:[e.jsx("span",{className:"caption-username-fixed",children:t.username}),e.jsxs("span",{className:"caption-time-fixed",children:[e.jsx(j,{size:12}),i(s.updatedAt)]}),e.jsx("span",{className:"caption-text-fixed",children:s.caption})]})]})]}),Y=({user:a,onClose:r,onConfirm:i})=>{s.useEffect(()=>{const e=()=>r();return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[r]);return e.jsxs("div",{className:"delete-profile-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:[e.jsx(f,{size:24}),"Confirm Account Deletion"]}),e.jsx("button",{className:"modal-close-btn",onClick:r,"aria-label":"Close modal",children:e.jsx(b,{size:20})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"warning-icon",children:e.jsx(v,{size:64,color:"#dc2626"})}),e.jsx("h3",{className:"modal-message",children:"Are you sure you want to permanently delete your account?"}),e.jsxs("div",{className:"modal-warning",children:[e.jsxs("div",{className:"modal-warning-title",children:[e.jsx(v,{size:16}),"This action cannot be undone"]}),e.jsx("p",{children:"Deleting your account will permanently remove:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Your profile and all personal information"}),e.jsx("li",{children:"All posts, comments, and interactions"}),e.jsx("li",{children:"Any groups you created (members will be notified)"}),e.jsx("li",{children:"Events you organized (attendees will be notified)"}),e.jsx("li",{children:"Your connections and network within the platform"})]}),e.jsxs("div",{className:"modal-final-warning",children:[e.jsx("strong",{children:"Important:"})," Please inform group members and event attendees before proceeding!"]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"cancel-button",onClick:e=>{e.preventDefault(),r()},children:"Cancel"}),e.jsxs(t,{method:"post",onSubmit:async()=>{i()},style:{display:"inline"},children:[e.jsx("input",{type:"hidden",name:"intent",value:"delete-profile"}),e.jsx("input",{type:"hidden",name:"userId",value:a.id.toString()}),e.jsx("button",{type:"submit",className:"delete-confirm-button",children:"Delete Account"})]})]})]})},G=({user:i,onClose:n})=>{var l;const[o,d]=s.useState([]),[c,m]=s.useState(!1),x=a(),u=r(),h=(null==(l=i.usersTags)?void 0:l.map(e=>e.name))||[],g=["ANGER","ANXIETY","DEPRESSION","SUBSTANCE ABUSE","STRESS","TRAUMA","RELATIONSHIPS","GRIEF","COMING OUT","SUICIDAL THOUGHTS"].filter(e=>!h.includes(e)),p="submitting"===x.state;s.useEffect(()=>{p&&m(!0)},[p]),s.useEffect(()=>{const e=()=>n();return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[n]),s.useEffect(()=>{if(c&&"idle"===x.state&&!(null==u?void 0:u.error)){const e=setTimeout(()=>{n()},100);return()=>clearTimeout(e)}},[c,x.state,u,n]);const j=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return e.jsxs("div",{className:"add-tags-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:[e.jsx(y,{size:24}),"Add New Tags"]}),e.jsx("button",{className:"modal-close-btn",onClick:n,"aria-label":"Close modal",children:e.jsx(b,{size:20})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"tags-intro",children:e.jsx("p",{className:"modal-message",children:"Select additional tags that resonate with you. These help connect you with similar users."})}),(null==u?void 0:u.error)&&e.jsx("div",{className:"error-message",style:{background:"#fee2e2",border:"1px solid #fca5a5",color:"#dc2626",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",textAlign:"center"},children:u.error}),g.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"available-tags-section",children:[e.jsx("h3",{className:"section-title",children:"Available Tags"}),e.jsx("div",{className:"tags-grid",children:g.map(s=>e.jsxs("label",{className:"tag-checkbox",children:[e.jsx("input",{type:"checkbox",checked:o.includes(s),onChange:()=>j(s)}),e.jsx("span",{className:"checkmark",children:o.includes(s)&&e.jsx(N,{size:12})}),e.jsx("span",{className:"tag-label",children:s})]},s))})]}),o.length>0&&e.jsxs("div",{className:"selected-tags-preview",children:[e.jsxs("h4",{className:"preview-title",children:["Selected Tags (",o.length,")"]}),e.jsx("div",{className:"selected-tags-list",children:o.map(s=>e.jsxs("span",{className:"selected-tag",children:[s,e.jsx("button",{type:"button",onClick:()=>j(s),className:"remove-tag-btn","aria-label":`Remove ${s}`,children:e.jsx(b,{size:14})})]},s))})]})]}):e.jsxs("div",{className:"no-tags-available",children:[e.jsx("div",{className:"success-icon",children:e.jsx(N,{size:48,color:"#10b981"})}),e.jsx("h3",{className:"success-title",children:"All Tags Added!"}),e.jsx("p",{className:"success-message",children:"You've already added all available tags to your profile. Great job building your interests!"})]}),h.length>0&&e.jsxs("div",{className:"current-tags-section",children:[e.jsx("h4",{className:"current-tags-title",children:"Your Current Tags"}),e.jsx("div",{className:"current-tags-list",children:h.map(s=>e.jsx("span",{className:"current-tag",children:s},s))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"cancel-button",onClick:e=>{e.preventDefault(),n()},disabled:p,children:"Cancel"}),g.length>0&&e.jsxs(t,{method:"post",action:"/profile",style:{display:"inline"},children:[e.jsx("input",{type:"hidden",name:"intent",value:"add-tags"}),e.jsx("input",{type:"hidden",name:"userId",value:i.id.toString()}),o.map(s=>e.jsx("input",{type:"hidden",name:"userTags",value:s},s)),e.jsx("button",{type:"submit",className:"add-tags-confirm-button",disabled:0===o.length||p,children:p?"Adding...":`Add ${o.length} Tag${1!==o.length?"s":""}`})]})]})]})},U={id:1,username:"johndoe",firstName:"John",lastName:"Doe",email:"john.doe@example.com",hashedPassword:"mock_hashed_password_123",bio:"Passionate developer and community builder focused on mental health advocacy and creating supportive environments for men to express their emotions.",profileImage:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop",createdAt:"2024-01-01T08:00:00Z",updatedAt:"2024-01-20T15:30:00Z",usersTags:[{id:1,name:"ANXIETY"},{id:2,name:"DEPRESSION"},{id:3,name:"STRESS"},{id:4,name:"RELATIONSHIPS"}],posts:[{id:1,title:"My Journey with Mental Health",caption:"Just finished working on an amazing React project with some incredible features! It has been a transformative experience that helped me cope with my anxiety.",image:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=800",likes:42,creator:1,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",user:{},comments:3},{id:2,title:"Finding Support in Community",caption:"Exploring the world of design systems and component libraries while dealing with depression. The creative process has been therapeutic.",image:"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=800",likes:28,creator:1,createdAt:"2024-01-10T14:20:00Z",updatedAt:"2024-01-10T14:20:00Z",user:{},comments:1},{id:3,title:"Breaking the Silence",caption:"Learning to express my emotions and break free from toxic masculinity. It is okay for men to cry and seek help.",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=800",likes:67,creator:1,createdAt:"2024-01-05T16:45:00Z",updatedAt:"2024-01-05T16:45:00Z",user:{},comments:5}],group:[{id:1,name:"Men's Mental Health Support",about:"A safe space for men to discuss mental health challenges and support each other",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",city:"San Francisco",state:"CA",numMembers:1250,numEvents:1,type:"Support Group",organizerId:1,events:[]},{id:2,name:"Anxiety Support Circle",about:"Supporting each other through anxiety and panic disorders",image:"https://images.pexels.com/photos/3184360/pexels-photo-3184360.jpeg?auto=compress&cs=tinysrgb&w=400",city:"Oakland",state:"CA",numMembers:850,numEvents:5,type:"Support Group",organizerId:1,events:[]}],events:[{id:1,name:"Mental Health Awareness Conference 2024",description:"Annual conference focused on men's mental health awareness and breaking stigma",image:"https://images.pexels.com/photos/1181676/pexels-photo-1181676.jpeg?auto=compress&cs=tinysrgb&w=400",numAttendees:150,capacity:200,type:"Conference",startDate:"2024-03-15T09:00:00Z",endDate:"2024-03-15T18:00:00Z",venueInfo:{id:4,groupId:1,address:"1000 Conference Center Dr",city:"San Francisco",state:"CA",latitude:37.7849,longitude:-122.4194},groupInfo:{}},{id:2,name:"Stress Management Workshop",description:"Interactive workshop on managing stress in daily life and work environments",image:"https://images.pexels.com/photos/3184340/pexels-photo-3184340.jpeg?auto=compress&cs=tinysrgb&w=400",numAttendees:45,capacity:50,type:"Workshop",startDate:"2024-02-28T14:00:00Z",endDate:"2024-02-28T17:00:00Z",venueInfo:{id:5,groupId:2,address:"555 Workshop Way",city:"Oakland",state:"CA",latitude:37.8144,longitude:-122.2811},groupInfo:{}}],userComments:[{id:1,comment:"Thank you for sharing your story, it really helped me!",userId:2,postId:1,createdAt:"2024-01-16T09:15:00Z",updatedAt:"2024-01-16T09:15:00Z"},{id:2,comment:"Your post about anxiety management was incredibly helpful.",userId:3,postId:1,createdAt:"2024-01-16T14:30:00Z",updatedAt:"2024-01-16T14:30:00Z"},{id:3,comment:"I appreciate your vulnerability and openness about mental health.",userId:4,postId:3,createdAt:"2024-01-06T10:20:00Z",updatedAt:"2024-01-06T10:20:00Z"},{id:4,comment:"Looking forward to the next group session!",userId:5,createdAt:"2024-01-18T16:45:00Z",updatedAt:"2024-01-18T16:45:00Z"}]},F=()=>{var t;const a=i(),r=n(),o=(null==a?void 0:a.user)||U,[h,g]=s.useState("posts"),[p,j]=s.useState("tags"),[f,b]=s.useState(!1),[v,N]=s.useState(!1),[F,$]=s.useState("grid"),[H,B]=s.useState(""),[J,W]=s.useState(new Map),{likeStates:_,setLikeState:X,fetchLikeStatus:Q}=d(),{isOpen:q,postId:K,openModal:V,closeModal:ee}=c(),{modal:se,openModal:te,closeModal:ae}=Z({forceRefreshOnClose:!0,refreshDelay:100}),re=s.useMemo(()=>(null==o?void 0:o.usersTags)??[],[o]),ie=s.useMemo(()=>(null==o?void 0:o.posts)??[],[o]),ne=s.useMemo(()=>(null==o?void 0:o.group)??[],[o]),le=s.useMemo(()=>(null==o?void 0:o.events)??[],[o]),oe=s.useMemo(()=>[...ie].sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()),[ie]);s.useEffect(()=>{ie.forEach(e=>{_.has(e.id)||(X(e.id,!1,e.likes),Q(e.id))})},[ie,_,X,Q]),s.useEffect(()=>{const e=new Map;ie.forEach(s=>{e.set(s.id,s.comments)}),W(e)},[ie]);const de=s.useMemo(()=>{let e;switch(h){case"posts":e=oe;break;case"groups":e=ne;break;case"events":e=le;break;default:e=[]}if(!H)return e;const s=H.toLowerCase();return"posts"===h?e.filter(e=>e.title.toLowerCase().includes(s)||e.caption.toLowerCase().includes(s)):"groups"===h?e.filter(e=>e.name.toLowerCase().includes(s)||e.about.toLowerCase().includes(s)):"events"===h?e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)):e},[h,H,oe,ne,le]),ce=s.useCallback(e=>{const s=new Date,t=new Date(e);return`${Math.floor((s.getTime()-t.getTime())/864e5)}d ago`},[]),me=s.useCallback(async(e,s,t)=>{X(e,s,t)},[X]),xe=s.useCallback(e=>{ie.find(s=>s.id===e);const s=(e,s)=>{W(t=>{const a=new Map(t);return a.set(e,s),a})};te(e,[],s)},[ie,te]),ue=s.useCallback(e=>{V(e)},[V]),he=s.useCallback(e=>{r(`/posts/${e}`)},[r]),ge=s.useCallback(()=>{b(!0)},[]),pe=s.useCallback(()=>{b(!1)},[]),je=s.useCallback(()=>{b(!1)},[]),fe=s.useCallback(()=>{N(!0)},[]),be=s.useCallback(()=>{N(!1)},[]),ve=()=>ie.reduce((e,s)=>e+(s.likes||0),0),ye=s.useCallback(()=>{const s=de;switch(h){case"posts":return ie.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-6 w-full":"space-y-6"),children:s.map(s=>{const t=_.get(s.id)||{isLiked:!1,likeCount:s.likes,isLoading:!1},a=J.get(s.id)??s.comments;return e.jsx(R,{post:s,currentUser:o,currentLikeState:t,currentCommentCount:a,formatTimeAgo:ce,onLikeToggle:me,onCommentsClick:xe,onPostClick:he,onLikesClick:ue,navigate:r,PostMenu:D},s.id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Posts Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Share your first post to get started!"}),e.jsxs(l,{to:"/posts/create",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(y,{size:16}),"Create Post"]})]})});case"groups":return ne.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>e.jsx(u,{group:s},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Groups Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Join groups to connect with like-minded people!"}),e.jsxs(l,{to:"/groups",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(k,{size:16}),"Explore Groups"]})]})});case"events":return le.length>0?e.jsx("div",{className:""+("grid"===F?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"),children:s.map(s=>e.jsx(x,{event:s},s.id))}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(w,{className:"text-white",size:24})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Events Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create or join events to get started!"}),e.jsxs(l,{to:"/events",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200",children:[e.jsx(w,{size:16}),"Explore Events"]})]})});default:return null}},[h,de,F,o,ie,ne,le,ce,r,_,me,xe,ue,he,J]),Ne=s.useCallback(()=>{switch(p){case"tags":return re.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(s=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-orange-100 to-slate-100 text-gray-700 text-sm font-medium rounded-full border border-gray-200 hover:shadow-sm transition-all duration-200",children:s.name},s.id))}),e.jsxs("button",{onClick:fe,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(y,{size:16}),"Add Tags"]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(S,{className:"text-gray-400",size:20})}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No tags added yet."})]}),e.jsxs("button",{onClick:fe,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(y,{size:16}),"Add Tags"]})]});case"similar":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(T,{className:"text-white",size:20})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Discover Similar Users"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Find users with similar interests based on your tags"})]}),e.jsx(l,{to:"/profile-feed",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(A,{size:16}),"Find Similar Users"]})})]});default:return null}},[p,re,fe]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{to:"/similar-feed",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all duration-200",children:"← Posts Feed"}),e.jsxs(l,{to:"/posts/create",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-slate-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-slate-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(y,{size:16}),"Create Post"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("main",{className:"lg:col-span-3 space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"relative h-32 bg-gradient-to-r from-orange-500 to-slate-600",children:e.jsx("div",{className:"absolute inset-0 bg-black/20"})}),e.jsx("div",{className:"relative px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:gap-6 -mt-16",children:[e.jsxs("div",{className:"relative justify-center self-center",children:[e.jsx("img",{src:null==o?void 0:o.profileImage,alt:null==o?void 0:o.username,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx(l,{to:`/users/${null==o?void 0:o.id}/profile/update`,className:"absolute bottom-2 right-2 p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 border border-gray-200 group",children:e.jsx(I,{size:16,className:"text-gray-600 group-hover:text-orange-600 transition-colors"})})]}),e.jsxs("div",{className:"flex-1 mt-4 sm:mt-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"mt-16",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:null==o?void 0:o.username}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[null==o?void 0:o.firstName," ",null==o?void 0:o.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:null==o?void 0:o.email})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 sm:-mt-8",children:[e.jsxs(l,{to:`/users/${null==o?void 0:o.id}/profile/update`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-all duration-200",children:[e.jsx(z,{size:16}),"Edit Profile"]}),e.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 font-medium rounded-lg hover:bg-red-100 transition-all duration-200",children:[e.jsx(E,{size:16}),"Delete"]})]})]}),(null==o?void 0:o.bio)&&e.jsx("p",{className:"text-gray-700 mt-4 leading-relaxed",children:o.bio}),e.jsxs("div",{className:"flex items-center gap-8 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ie.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Posts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ve()}),e.jsx("div",{className:"text-sm text-gray-500",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:ne.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Groups"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800",children:le.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Events"})]})]})]})]})})]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:["posts","groups","events"].map(s=>e.jsxs("button",{onClick:()=>g(s),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 "+(h===s?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[s.charAt(0).toUpperCase()+s.slice(1)," (","posts"===s?ie.length:"groups"===s?ne.length:le.length,")"]},s))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:`Search ${h}...`,value:H,onChange:e=>B(e.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>$("grid"),className:"p-2 rounded-md transition-all duration-200 "+("grid"===F?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(C,{size:16})}),e.jsx("button",{onClick:()=>$("list"),className:"p-2 rounded-md transition-all duration-200 "+("list"===F?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"),children:e.jsx(M,{size:16})})]})]})]}),H&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",de.length,' results for "',H,'"']})]}),e.jsx("div",{className:"p-6",children:ye()})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>j("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===p?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Your Tags"}),e.jsx("button",{onClick:()=>j("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===p?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),Ne()]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(P,{size:16,className:"text-orange-500"}),"Quick Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ie.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ve()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Groups Joined"}),e.jsx("span",{className:"font-semibold text-gray-800",children:ne.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Events Attending"}),e.jsx("span",{className:"font-semibold text-gray-800",children:le.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profile Tags"}),e.jsx("span",{className:"font-semibold text-gray-800",children:re.length})]})]})]})]})]})}),e.jsxs("section",{className:"lg:hidden bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-7xl mx-auto mt-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Your Profile Tags"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your interests and find similar users"})]}),e.jsxs("nav",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 mb-6",children:[e.jsx("button",{onClick:()=>j("tags"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("tags"===p?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Your Tags"}),e.jsx("button",{onClick:()=>j("similar"),className:"flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 "+("similar"===p?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Similar"})]}),Ne()]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(Y,{user:o,onClose:pe,onConfirm:je})})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(G,{user:o,onClose:be})})}),e.jsx(O,{isOpen:se.isOpen,onClose:ae,postId:se.postId||0,initialComments:se.comments,forceRefreshOnClose:!0,onCommentsChange:(e,s)=>{W(t=>{const a=new Map(t);return a.set(e,s),a})}}),q&&K&&e.jsx(m,{isOpen:q,onClose:ee,postId:K,initialCount:(null==(t=_.get(K))?void 0:t.likeCount)||0})]})};export{F as default};
