import{j as e}from"./index-kOaLMnvm.js";import{r as s}from"./react-vendor-DWDxyCYt.js";import{e as t,u as a,L as l,F as r}from"./router-vendor-DJrAx8OX.js";import{a as i}from"./redux-vendor-s9F9CGgp.js";import{l as o,P as n,e as d,ac as c,c as m,O as x,X as h,ad as u,o as p,Y as g,a5 as j}from"./ui-vendor-LOG_mfyu.js";const b=()=>{const b=t(),f=i(e=>e.session.user),v=a(),[N,w]=s.useState(""),[y,k]=s.useState(""),[z,C]=s.useState(null),[P,S]=s.useState(null),[F,I]=s.useState(!1),Y=500;s.useEffect(()=>{f||v("/")},[f,v]);const L=N.length>=5&&N.length<=25&&y.length>=50&&y.length<=Y&&null!==z;return f?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs(l,{to:"/similar-feed",className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(o,{size:20}),"Back to Posts"]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl",children:[e.jsx("img",{src:"https://mencrytoo.s3.amazonaws.com/login-2.png",alt:"Create post",className:"w-full h-auto object-cover rounded-2xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/70 to-transparent flex items-end",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Share Your Story"}),e.jsx("p",{className:"text-slate-200",children:"Your voice matters in our community"})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(n,{size:18,className:"text-orange-500"}),"Post Preview"]}),P?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:f.profileImage,alt:f.username,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900",children:f.username}),e.jsx("p",{className:"text-xs text-slate-500",children:"Just now"})]})]}),e.jsx("h4",{className:"font-semibold text-lg text-slate-800",children:N||"Your post title will appear here"}),e.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:e.jsx("img",{src:P,alt:"Preview",className:"w-full h-48 object-cover"})}),e.jsx("p",{className:"text-slate-700 text-sm",children:y||"Your caption will appear here..."}),e.jsxs("div",{className:"flex items-center gap-4 text-slate-500 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{size:14}),"0"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{size:14}),"0"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14}),"0"]})]})]}):e.jsxs("div",{className:"text-center py-8 px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{size:24,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-500 mb-2",children:"Your post preview will appear here"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Fill out the form and upload an image to see how your post will look"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center",children:e.jsx(n,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Create a Post"}),e.jsx("p",{className:"text-slate-600",children:"Share your thoughts with the community"})]})]}),e.jsxs(r,{method:"post",encType:"multipart/form-data",className:"space-y-6",onSubmit:()=>{I(!0)},children:[e.jsx("input",{type:"hidden",name:"intent",value:"create-post"}),e.jsx("input",{type:"hidden",name:"userId",value:f.id}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700",children:"Post Title"}),e.jsx("input",{id:"title",name:"title",type:"text",value:N,onChange:e=>w(e.target.value),placeholder:"What's your post about?",className:`w-full px-4 py-3 border ${(null==b?void 0:b.title)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors`,maxLength:25,required:!0}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("div",{children:(null==b?void 0:b.title)?e.jsx("p",{className:"text-red-600",children:b.title}):e.jsx("p",{className:"text-slate-500",children:"Choose a clear, descriptive title (5-25 characters)"})}),e.jsxs("div",{className:""+(N.length>20?"text-orange-500":"text-slate-500"),children:[N.length,"/",25]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"caption",className:"block text-sm font-medium text-slate-700",children:"Caption"}),e.jsx("textarea",{id:"caption",name:"caption",value:y,onChange:e=>k(e.target.value),placeholder:"Express yourself. Share your thoughts, experiences, or insights... (minimum 50 characters)",rows:6,className:`w-full px-4 py-3 border ${(null==b?void 0:b.caption)?"border-red-300":"border-slate-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors resize-none`,maxLength:Y,required:!0}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("div",{children:(null==b?void 0:b.caption)?e.jsx("p",{className:"text-red-600",children:b.caption}):e.jsx("p",{className:"text-slate-500",children:y.length<50?"Please write at least 50 characters":"Great! Your caption meets the minimum length"})}),e.jsxs("div",{className:""+(y.length>450?"text-orange-500":y.length>=50?"text-green-500":"text-slate-500"),children:[y.length,"/",Y]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-slate-700",children:"Upload an Image"}),P?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-slate-300"}),e.jsx("button",{type:"button",onClick:()=>{S(null),C(null)},className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm p-1 rounded-full hover:bg-white transition-colors",children:e.jsx(h,{size:16,className:"text-slate-700"})}),e.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},className:"absolute bottom-2 right-2 bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium hover:bg-white transition-colors flex items-center gap-1",children:[e.jsx(u,{size:12}),"Change"]})]}):e.jsxs("div",{onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-orange-300 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(p,{size:32,className:"mx-auto text-slate-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"Click to upload an image"}),e.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, or GIF (max 5MB)"})]}),e.jsx("input",{id:"image-upload",name:"image",type:"file",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t){C(t);const e=new FileReader;e.onload=e=>{var s;S(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(t)}},className:"hidden",required:!0}),(null==b?void 0:b.image)&&e.jsx("p",{className:"text-red-600 text-xs",children:b.image})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(g,{size:16,className:"text-orange-500"}),e.jsx("h4",{className:"font-medium text-slate-800",children:"Posting Tips"})]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 pl-6 list-disc",children:[e.jsx("li",{children:"Be respectful and considerate of others"}),e.jsx("li",{children:"Share personal experiences that might help others"}),e.jsx("li",{children:"Use appropriate language and content"}),e.jsx("li",{children:"Respect privacy - don't share others' personal information"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsx(l,{to:"/similar-feed",className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-all duration-200 text-center font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!L||F,className:`px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 ${L&&!F?"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg":"bg-slate-300 text-slate-500 cursor-not-allowed"} transition-all duration-200`,children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:18}),"Create Post"]})})]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-slate-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Please Log In"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You need to be logged in to create a post."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(l,{to:"/login",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Log In"}),e.jsx(l,{to:"/",className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-all duration-200",children:"Go Home"})]})]})})};export{b as default};
